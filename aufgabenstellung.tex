\clearpage
\section{Einf{\"{u}}hrung}
\begin{figure}
	\centering
	\includevisio[width=\textwidth]{simulation}
	\caption{Screenshot der Simulation}
	\label{fig:simulation}
\end{figure}

\subsection{Motivation} Seit der Einf{\"{u}}hrung der Computer und vor allem seit dem rasanten Wachstums des
Internets, werden Computer in immer mehr Bereichen eingesetzt. Es gibt nur noch wenige Berufe oder 
Freizeitaktivit{\"{a}}ten die komplett ohne auskommen; Die Buchhaltung geschieht komplett elektronisch und
das Geld wird elektronisch {\"{u}}berwiesen, anstatt in einer Lohnt{\"{u}}te ausgeh{\"{a}}ndigt zu werden.
Und um herauszufinden ob der Lohn angekommen ist benutzt man Onlinebanking, wobei eine
unm{\"{o}}glich absch{\"{a}}tzbare Anzahl an vernetzten Computern beteiligt ist. Auch komplett ohne Technik
durchf{\"{u}}hrbare Freizeitaktivit{\"{a}}ten wie das Kegeln sind heute ohne Computerunterst{\"{u}}tzung
kaum noch vorstellbar --- in den Kegelbahnen z{\"{a}}hlt ein Computer f{\"{u}}r jeden Spieler mit wie viele
Punkte erreicht wurden und stellt die umgeworfenen Kegel automatisch wieder auf.

Dies bietet enorme, jeden Tag ersichtlich werdene Vorteile, birgt jedoch auch Risiken. Die Komplexit{\"{a}}t,
oder den Aufwand, die der "Nutzer" bew{\"{a}}ltigen muss, sinkt zwar (meistens), allerdings wird das
System fehleranf{\"{a}}lliger. Es gibt mehr Komponenten, also kann mehr kaputt gehen.

Zu einem Problem wird dies falls es um lebenswichtige (oder NOCH SCHLIMEMR: Geld) Bereiche wie die
Strom- und Wasserversorgung, Fahrassistenz und {\"{a}}hnliches geht. Auch kleine Fehler dort k{\"{o}}nnen
enorme Konsequen haben. 

Wie man an \todo{a, b, und c} sieht, wird dieser Aspekt oft vernachl{\"{a}}ssigt. Oftmals ist es am wichtigsten den
Projektzeitplan einzuhalten, und gerade nicht-funktionalen Eigenschaften geniessen keine hohe Priorit{\"{a}}t da M{\"{a}}ngel
bei diesen dem Kunden nicht unbedingt auffallen. Erschwerend kommt hinzu das oft auch einfach das Problembewusstsein oder auch nur die
n{\"{o}}tigen Grundlagen fehlen um System wirklich ausfallsicher zu machen.

\subsection{Aufgabenstellung} In dem Modul "Ausfallsichere Systeme" werden die verschiedenen Techniken und ihre Vor- und Nachteile
erl{\"{a}}utert und verglichen. Um das neu erworbenes Wissen auch praktisch anwenden (und vertiefen) zu k{\"{o}}nnen, gibt es w{\"{a}}hrend des Semesters eine {\"{U}}bungsaufgabe.
Die Aufgabe dieser Bachelorarbeit ist die Konzeption der selbigen. Zus{\"{a}}tzlich soll das fertige Produkt auch im Rahmen von Informationsveranstaltungen als Demonstrationsprojekt
nutzbar sein und gerade auch Menschen ohne Fachkentnisse einen Einblick in die Komplexit{\"{a}}t geben.

Dies f{\"{u}}hrte zur Idee eine Computersimulation zu entwickeln. Diese kann visuell ansprechend sein und bieten vielf{\"{a}}tige Interationsm{\"{o}}glichkeiten.

\subsection{Gliederung} Diese Bachelorarbeit besteht aus zwei Teilen. Im ersten wird die Aufgabenstellung entwickelt, im zweiten der L{\"{o}}sungsweg skizziert.

Der erste Teil besteht aus einer Einf{\"{u}}hrung, um den Sinn und Zweck dieser Arbeit zu verdeutlichen. Danach wird erkl{\"{a}}rt, warum die
\hyperref[heizung]{existierende {\"{U}}bungsaufgabe} nicht ausreicht; basierend darauf werden die Anforderungen an die neue Aufgabe entwickelt.

Im zweiten Teil werden als erstes die ben{\"{o}}tigten Grundlagen zur Umsetzung erkl{\"{a}}rt. Dabei geht es einerseits um mechanische und physische Konzepte wie das
\hyperref[diffs]{\textit{differential steering}} und die mathematische Grundlagen der Vektorrechnung, aber auch um Informationstechnologische Aspekte wie die Serialisierung von Daten oder
verschiedene Netzwerkkommunikationsarten. Darauf aufbauend wird dann die Implementierung beschrieben, mit besonderem Fokus auf dem Fehlermodell und der
Fehlerinjektion.

Zum Schluss wird die Simulation anhand der Kriterien evaluiert und ein Fazit gezogen.

\clearpage
\section{Alternative 1: Die ausfallsichere Heizung}\label{heizung}
Eine {\"{U}}bungsaufgabe im Module Ausfallsichere System wurde im Sommersemester 2016 an der FH S{\"{u}}dwestfalen entwickelt. Das Ziel ist es, mithilfe zwei Heizk{\"{o}}rpern, zweier
L{\"{u}}fter und drei Temperatursensoren (jeweils einer an dem L{\"{u}}fter und Heizk{\"{o}}rper, einer im Ausgangsluftstrom) eine Temperatur zu regeln.
Das Gesamtsystem ist Y-f{\"{o}}rmig aufgebaut; an den Armen des Ypsilon befindet sich jeweils ein Heizk{\"{o}}rper und ein L{\"{u}}fter, an dem Punkt, an dem sich
die Arme treffen, ist eine Klappe, die den Luftstrom eines Arms ganz oder teilweise blockieren kann (diese Luft wird dann nach oben abgeleitet).

\paragraph{Systemaufbau} Die verschiedenen Komponenten h{\"{a}}ngen an drei verschiedenen Rechnern\footnote{jeweils mit eigenem Temperatursensor}:
\begin{itemize}
\item einem Rechner, der die Heizk{\"{o}}rper steuert
\item einem Rechner, der die L{\"{u}}fter steuert
\item einem Rechner, der die Klappe steuert
\end{itemize}

Diese Rechner k{\"{o}}nnen {\"{u}}ber UDP und I\textsuperscript{2}C miteinander kommunizieren. Diese Kommunikationswege oder sogar ganze Rechner k{\"{o}}nnen
allerdings zu jedem Zeitpunkt ausfallen; Auch die Sensoren und Aktoren (die Heizungen, die L{\"{u}}fter oder die Klappe) k{\"{o}}nnen ausfallen --- es ist also notwendig, das
System ausfallsicher zu planen, damit trotz des Ausfalls einer oder mehrerer Komponenten weiter geregelt wird.

\paragraph{Evaluation} Dieses System hat allerdings physikalische Beschr{\"{a}}nkungen, die es sehr tr{\"{a}}ge und damit als Vorf{\"{u}}hrobjekt zum Beispiel f{\"{u}}r Schulklassen
ungeeignet machen. Dieses f{\"{u}}hrt au{\ss}erdem dazu, dass nur eine Studentengruppe gleichzeitig das System benutzen kann. Da jeder Versuchsdurchlauf einige Minuten dauert, kommt es zu
Koordinationsproblemen, was dazu f{\"{u}}hrt, dass die Studenten einen gro{\ss}en Teil der Zeit damit verbringen zu warten.

\clearpage
\section{Anforderungen}
Aus den Schwachstellen der vorhanden L{\"{o}}sung l{\"{a}}sst sich ableiten, was das neue System leisten soll:
\begin{enumerate}
	\item Die Alternativaufgabe soll sich stark von der ausfallsicheren Heizung unterscheiden, damit die Studierenden eine tats{\"{a}}chliche Wahl haben.
	\item Es muss m{\"{o}}glich sein mehrere Instanzen gleichzeitig laufen zu lassen. Damit werden die Koordinierungsprobleme vermieden.
	\item In dem neuen System muss die Fehlerinjektion parametrisierbar sein. Damit ist es m{\"{o}}glich die Aufgabe bei Bedarf zu vereinfachen oder
		zu verkomplizieren.
	\item Um die Aufgabe zu l{\"{o}}sen, muss eine Vielzahl von Konzepten der Ausfallsicherheit genutzt werden.
\end{enumerate}

\clearpage
\section{Alternative 2: Die balancierenden Roboter}
Um die M{\"{o}}glichkeiten des in \cite{Werner00} neu entwickelten CORE Systems zu testen wurde an der Humboldt Universit{\"{a}}t Berlin in Zusammenarbeit
mit Daimler Benz eine Simulation entwickelt. Ziel dieser Simulation war es, eine simulierte Platte durch die Bewegung von simulierten
Robotern auszubalancieren. Das Gewicht jedes Roboters wirkt auf die Platte, bringt sie also aus dem Gleichgewicht. Die Roboter m{\"{u}}ssen sich nun so
bewegen, dass jede durch einen Roboter ausge{\"{u}}bte Kraft von einem anderen Roboter eliminiert wird. Damit es nicht m{\"{o}}glich ist, einmal eine Stellung einzunehmen,
die zum Gleichgewicht f{\"{u}}hrt und dort zu verharren, haben die Roboter einen Energiespeicher, der mit der Zeit leerer wird. Da die Roboter sich nur bewegen k{\"{o}}nnen
solange sie noch Energiereserven haben, m{\"{u}}ssen sie hin und wieder diesen Speicher an einer Ladestation auff{\"{u}}llen.

Die Simulation und die Controller wurden in Objective-C geschrieben und laufen auf dem NeXTStep Betriebssystem und kommunizieren {\"{u}}ber CORBA miteinander\cite{predictablecorba},
w{\"{a}}hrend das Anzeigeprogramm Java basiert ist und z.B. auf einem Windowsrechner laufen kann.

\paragraph{Evaluation} Die Einarbeitung in COBRA k{\"{o}}nnte vom tats{\"{a}}chlichen Lernstoff ablenken und das ganze unn{\"{o}}tig verkomplizieren; da COBRA auch nur noch
wenig genutzt wird, ist der Mehraufwand nicht zu rechtfertigen. Des weiteren ist das physikalische Modell der Simulation sehr rudiment{\"{a}}r:
die Roboter k{\"{o}}nnen sich holonomisch, also ohne Limitationen in alle Richtungen, bewegen. Dies ist aber bei den meisten Robotern nicht
der Fall, diese haben auf Grund ihres Aufbaus bestimmte Limitationen. Zum Beispiel ist es un{\"{u}}blich, dass sich Roboter vertikal frei bewegen k{\"{o}}nen. Des weiteren
gibt es in der Simulation keine mechanischen Gleichgewichte --- auch dies eine unrealistische Vereinfachung gegen{\"{u}}ber der echten Welt.

Da das Simulationsprogramm in den Neunzigern auf NeXTStep Rechnern entwickelt wurde, l{\"{a}}uft es auch nur auf diesen. Leider existieren solche Rechner in der Fachhochschule
S{\"{u}}dwestfalen nicht, das Programm m{\"{u}}sste also erst portiert werden.

Aus all diesen Gr{\"{u}}nden wurde entschieden eine neue {\"{U}}bungsaufgabe zu entwickeln.

\clearpage
\section{Simulationsidee}
Die simulierte Welt besteht aus einer kreisf{\"{o}}rmigen Platte. Auf dieser k{\"{o}}nnen bis zu \gls{N} Roboter und $1$ F{\"{u}}llstation (\gls{F})
platziert werden. Die Summe alle Gewichte kippt die Platte; sind die Gewichte zu ungleichm{\"{a}}{\ss}ig verteilt, kippt
die Platte um und die Simulation endet.

Die Roboter k{\"{o}}nnen sich frei auf der Platte bewegen, verbrauchen dabei aber Energie und m{\"{u}}ssen diese dann irgendwann
an der F{\"{u}}llstation auff{\"{u}}llen. Auch wenn die Roboter sich nicht bewegen, verbrauchen sie Energie (allerdings weniger
schnell).

Gesteuert werden die Roboter von bis zu \gls{M} $(M \geq N)$ Controllern. Einer oder mehr Controller stimmen sich ab,
so dass:
\begin{itemize}
\item die Roboter ihre Energie immer rechtzeitig auff{\"{u}}llen
\item die Roboter nicht kollidieren
\item die Platte nicht kippt
\end{itemize}

Dieser Abstimmungsvorgang sollte fehlertolerant implementiert werden, so dass auch beim Ausfall eines (oder mehrerer) Controller die Roboter sich immer noch koordiniert bewegen.
(Abh{\"{a}}ngig vom Verh{\"{a}}ltnis der Anzahl der Controller zur Anzahl der Roboter k{\"{o}}nnen verschiedene Stufen der Fehlertoleranz erreicht werden.\cite[s.149]{Werner00})

Die Voter und Controller laufen auf Virtuellen Maschinen, jeweils eine VM pro Voter- oder Controllerinstanz.
Diese VMs befinden sich in einem Netzwerk, dass durch eine Fehlerinjektion UDP Pakete verf{\"{a}}lscht --- dies simuliert ein fehlertr{\"{a}}chtiges Netzwerk wie es zum Beispiel bei Funknetzwerken der Fall ist.
Es wird vorgegeben, dass die gesamte Kommunikation {\"{u}}ber UDP stattfinden muss. Die Kommunikation von Simulation zu den Votern ist davon nicht betroffen, sie soll nicht verf{\"{a}}lscht werden.

\begin{figure}
	\centering
	\includevisio[width=\textwidth]{Netzwerk}
	\caption{Aufteilung der Netzwerkteilnehmer}
	\label{fig:network}
\end{figure}

Zusammenfassend besteht das ganze System aus diesen Teilen:
\begin{itemize}
	\item Die Simulation berechnet die Bewegungen und implementiert das physikalische Modell. Sie {\"{u}}bernimmt auch die Visualisierung. Per Definition ist sie ausfallsicher.
	\item Der Voter sammelt die Steuerkommandos von den Controllern, bildet daraus das Steuerergebniss und sendet dies an die Simulation. Er ist per Definition ausfallsicher gegen \textit{crash failures}.
	\item Die Controller generieren Steuerkommandos. Sie k{\"{o}}nnen jederzeit ausfallen.
\end{itemize}

\paragraph{Nutzung durch die Studenten} Von den Studierenden muss nicht die gesamte Simulation erstellt werden; die {\"{U}}bungsaufgabe bezieht sich nur auf die Abstimmung zwischen den Controllern und die Ansteuerung der Roboter.
Daher ist es notwendig, ein Interface ins "Innere" der Simulation bereitzustellen, das dann von den Studenten genutzt wird.
